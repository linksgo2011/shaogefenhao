(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{999:function(t,e,o){"use strict";o.r(e);var a=o(15),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("p",[t._v("涉及的命令有export、import、save、load")]),t._v(" "),o("h2",{attrs:{id:"区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[t._v("#")]),t._v(" 区别")]),t._v(" "),o("p",[t._v("export命令是从容器（container）中导出tar文件，而save命令则是从镜像（images）中导出。")]),t._v(" "),o("p",[t._v("export命令导出的tar文件略小于save命令导出的。")]),t._v(" "),o("p",[t._v("export导出的文件再import回去时，无法保留镜像所有历史（即每一层layer信息，不熟悉的可以去看Dockerfile），不能进行回滚操作；而save是依据镜像来的，所以导入时可以完整保留下每一层layer信息。如下图所示，nginx:latest是save导出load导入的，nginx:imp是export导出import导入的。")]),t._v(" "),o("ul",[o("li",[t._v("若是只想备份images，使用save、load即可")]),t._v(" "),o("li",[t._v("若是在启动容器后，容器内容有变化，需要备份，则使用export、import")]),t._v(" "),o("li",[t._v("需要注意这两对命令不能交错使用，否则无法启动容器")])]),t._v(" "),o("h2",{attrs:{id:"save-load"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#save-load"}},[t._v("#")]),t._v(" save load")]),t._v(" "),o("p",[t._v("导出")]),t._v(" "),o("blockquote",[o("p",[t._v("docker save [options] images [images...]")])]),t._v(" "),o("p",[t._v("例如")]),t._v(" "),o("blockquote",[o("p",[t._v("docker save -o nginx.tar nginx:latest")])]),t._v(" "),o("p",[t._v("导入")]),t._v(" "),o("blockquote",[o("p",[t._v("docker load [options]")])]),t._v(" "),o("p",[t._v("例如")]),t._v(" "),o("blockquote",[o("p",[t._v("docker load -i nginx.tar")])]),t._v(" "),o("h2",{attrs:{id:"export-import"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#export-import"}},[t._v("#")]),t._v(" export  import")]),t._v(" "),o("p",[t._v("导出")]),t._v(" "),o("blockquote",[o("p",[t._v("docker export [options] container")])]),t._v(" "),o("p",[t._v("其中-o表示输出到文件，nginx-test.tar为目标文件，nginx-test是源容器名（name）")]),t._v(" "),o("p",[t._v("例如")]),t._v(" "),o("blockquote",[o("p",[t._v("docker export -o nginx-test.tar nginx-test")])]),t._v(" "),o("p",[t._v("导入")]),t._v(" "),o("blockquote",[o("p",[t._v("docker import [options] file|URL|- [REPOSITORY[:TAG]]")])]),t._v(" "),o("p",[t._v("例如")]),t._v(" "),o("blockquote",[o("p",[t._v("docker import nginx-test.tar nginx:imp")])]),t._v(" "),o("h2",{attrs:{id:"参考资料"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),o("ul",[o("li",[t._v("https://blog.csdn.net/ncdx111/article/details/79878098")])])])}),[],!1,null,null,null);e.default=v.exports}}]);