(window.webpackJsonp=window.webpackJsonp||[]).push([[315],{1136:function(n,s,e){"use strict";e.r(s);var a=e(15),t=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("在Linux下PHP如果出现了拓展不能被安装的情况时,需要自己安装拓展。")]),n._v(" "),e("p",[n._v("一般来说需要安装相应系统库:比如libmcrypt和相应的拓展.so文件,下面使用mycrypt作为例子")]),n._v(" "),e("p",[n._v("MCrypt是一个功能强大的加密算法扩展库，它包括有22种算法。")]),n._v(" "),e("p",[n._v("1:下载并解压mcrypt-2.6.8.tar.bz2。（2.6.8为版本号，可以自行选择，但是注意后边步骤要与下载的版本号一致。）\n2:在终端执行命令（注意如下命令需要安装xcode支持）：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("\ncd ~/Downloads/mcrypt-2.5.8\n./configure --disable-posix-threads --enable-static\nmake\nsudo make install\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br")])]),e("p",[e("em",[n._v("实际上这一步在Ubuntu上可以使用 apt-get 工具安装,在Mac上使用homebrew安装")])]),n._v(" "),e("p",[n._v("3：下载并解压php源码，根据自己情况选择对应版本。(注意以下命令中php的版本)\n在终端执行命令：（如果出错请看后边）")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("cd ~/Downloads/php-5.5.14/ext/mcrypt\nphpize\n./configure\nmake\ncd modules\nsudo cp mcrypt.so /usr/lib/php/extensions/no-debug-non-zts-20121212/\n//上面可以使用make install 代替\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br")])]),e("p",[n._v("（cd modules后当出现")]),n._v(" "),e("p",[n._v("Build complete.\nDon't forget to run 'make test'.\n表示安装成功。）")]),n._v(" "),e("ul",[e("li")]),n._v(" "),e("p",[n._v("直接安装拓展\nhttps://stackoverflow.com/questions/24749950/error-no-available-formula-for-php54-mcrypt-on-mac-os-x-mavericks")]),n._v(" "),e("ul",[e("li")]),n._v(" "),e("p",[n._v("4：打开php.ini")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("sudo vi /etc/php.ini\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("p",[n._v("添加如下代码：（注意no-debug-non-zts-20121212版本号，如果不清楚可以前往/usr/lib/php/extensions/查看）")]),n._v(" "),e("p",[n._v("extension=/usr/lib/php/extensions/no-debug-non-zts-20121212/mcrypt.so\n*如果phpize出现如下错误：")]),n._v(" "),e("p",[n._v("grep: /usr/include/php/main/php.h: No such file or directory\ngrep: /usr/include/php/Zend/zend_modules.h: No such file or directory\ngrep: /usr/include/php/Zend/zend_extensions.h: No such file or directory\nConfiguring for:\nPHP Api Version:\nZend Module Api No:\nZend Extension Api No:\nCannot find autoconf. Please check your autoconf installation and the\n$PHP_AUTOCONF environment variable. Then, rerun this script.\n表示需要安装autoconf")]),n._v(" "),e("p",[n._v("*如果make出现如下错误：")]),n._v(" "),e("p",[n._v("/ext/mcrypt/mcrypt.c:25:10: fatal error: 'php.h' file not found\n执行如下命令即可：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("sudo ln -s /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk/usr/include /usr/include\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("p",[e("em",[n._v("注意MacOSX10.10.sdk修改为自己系统的版本号")])]),n._v(" "),e("p",[n._v("如果遇到\nConfiguring for:\nPHP Api Version:         20121113\nZend Module Api No:      20121212\nZend Extension Api No:   220121212\nCannot find autoconf. Please check your autoconf installation and the\n$PHP_AUTOCONF environment variable. Then, rerun this script.")]),n._v(" "),e("p",[n._v("参考:https://stackoverflow.com/questions/31583646/cannot-find-autoconf-please-check-your-autoconf-installation-xampp-in-centos")]),n._v(" "),e("p",[n._v("For CentOS:")]),n._v(" "),e("blockquote",[e("h1",{attrs:{id:"yum-install-autoconf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum-install-autoconf"}},[n._v("#")]),n._v(" yum install autoconf")])]),n._v(" "),e("p",[n._v("for Ubuntu :")]),n._v(" "),e("blockquote",[e("h1",{attrs:{id:"apt-get-install-autoconf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apt-get-install-autoconf"}},[n._v("#")]),n._v(" apt-get install autoconf")])]),n._v(" "),e("p",[n._v("for fedora 24-27:")]),n._v(" "),e("blockquote",[e("h1",{attrs:{id:"dnf-install-autoconf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dnf-install-autoconf"}},[n._v("#")]),n._v(" dnf install autoconf")])]),n._v(" "),e("p",[n._v("For Mac")]),n._v(" "),e("blockquote",[e("p",[n._v("brew install autoconf")])]),n._v(" "),e("p",[n._v("对于Mac系统遇到 /etc/权限问题")]),n._v(" "),e("p",[n._v("参考:https://apple.stackexchange.com/questions/208815/error-configuring-mcrypt-after-upgrading-to-el-capitan")]),n._v(" "),e("p",[n._v("我们可以安装到另外的地方")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("sudo make EXTENSION_DIR='/usr/local/lib/php/extensions' install\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("h3",{attrs:{id:"更多mac的安全策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更多mac的安全策略"}},[n._v("#")]),n._v(" 更多Mac的安全策略")]),n._v(" "),e("p",[n._v("在最新的OSX中限制用户访问某些系统目录\nhttps://developer.apple.com/library/content/documentation/Security/Conceptual/System_Integrity_Protection_Guide/Introduction/Introduction.html")]),n._v(" "),e("p",[n._v("无法访问的地址")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("/bin\n/sbin\n/usr\n/System\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("\n/usr/local\n/Applications\n/Library\n~/Library\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);