(window.webpackJsonp=window.webpackJsonp||[]).push([[399],{1232:function(s,n,e){"use strict";e.r(n);var a=e(15),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("Apache Benchmark 简称 ab 是 Apache web 服务器自带的性能测试工具，在 windows 或者 linux 上安装了 Apache 服务器就可以在其安装位置的 bin 目录中找到 ab 这个程序。")]),s._v(" "),e("p",[s._v("ab 使用起来非常简单，一般只需要 -n 参数指明发出请求的总数，以及 -c 参数指明测试期间的并发数。")]),s._v(" "),e("p",[s._v("例如对 thoughtworks 官网首页发出 100 个请求，模拟并发数为 10：")]),s._v(" "),e("blockquote",[e("p",[s._v("ab -n 100 -c 10 https://thoughtworks.com/")])]),s._v(" "),e("p",[s._v("需要注意的是 ab 工具接收一个 url 作为参数，仅仅是一个域名是不合法的，需要增加 "),e("code",[s._v("/")]),s._v(" 表示首页。稍等片刻后就可以看到测试报告:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Server Software:        nginx/1.15.6\nServer Hostname:        thoughtworks.com\nServer Port:            443\nSSL/TLS Protocol:       TLSv1.2,ECDHE-RSA-AES256-GCM-SHA384,2048,256\nServer Temp Key:        ECDH P-256 256 bits\nTLS Server Name:        thoughtworks.com\n\nDocument Path:          /\nDocument Length:        162 bytes\n\nConcurrency Level:      10\nTime taken for tests:   42.079 seconds\nComplete requests:      100\nFailed requests:        0\nNon-2xx responses:      100\nTotal transferred:      42500 bytes\nHTML transferred:       16200 bytes\nRequests per second:    2.38 [#/sec] (mean)\nTime per request:       4207.888 [ms] (mean)\nTime per request:       420.789 [ms] (mean, across all concurrent requests)\nTransfer rate:          0.99 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:     1056 2474 3006.1   1144   23032\nProcessing:   349  740 1003.5    379    8461\nWaiting:      349  461 290.9    377    2265\nTotal:       1411 3214 3273.9   1674   23424\n\nPercentage of the requests served within a certain time (ms)\n  50%   1674\n  66%   2954\n  75%   3951\n  80%   4397\n  90%   6713\n  95%   9400\n  98%  14973\n  99%  23424\n 100%  23424 (longest request)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br")])]),e("p",[s._v("从这个报告中可以看到服务器的一些基本信息，以及请求的统计信息。比较重要的指标是 "),e("code",[s._v("Requests per second")]),s._v(" 每秒钟完成的请求数量，不严格的说也就是我们的平时说的 QPS。")]),s._v(" "),e("p",[s._v("ab 测试是专为 http 请求设计的，因此 ab 的其他参数和 curl 的参数比较类似，也可以指定 http method 以及 cookies 等参数。")])])}),[],!1,null,null,null);n.default=t.exports}}]);