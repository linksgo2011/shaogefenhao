(window.webpackJsonp=window.webpackJsonp||[]).push([[407],{1242:function(t,s,e){"use strict";e.r(s);var r=e(15),i=Object(r.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("this.mockMvc = MockMvcBuilders\n        .webAppContextSetup(this.wac)\n        .alwaysDo(MockMvcResultHandlers.print())\n        .apply(springSecurity()) // 让 springSecurityFilterChain 生效\n        .build();\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h2",{attrs:{id:"注解使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注解使用"}},[t._v("#")]),t._v(" 注解使用")]),t._v(" "),e("p",[t._v("springSecurity提供了相关的组件spring-security-test，该组件提供了相关的注解来来"),e("em",[t._v("模拟用户登录信息")]),t._v("或者"),e("em",[t._v("调用用户登录的方法")]),t._v("，")]),t._v(" "),e("ul",[e("li",[t._v("@WithMockUser 模拟用户，手动指定用户名和授权")]),t._v(" "),e("li",[t._v("@WithAnonymousUser 模拟匿名用户")]),t._v(" "),e("li",[t._v("@WithUserDetails 模拟用户，给定用户名，通过自定义UserDetails来认证")]),t._v(" "),e("li",[t._v("@WithSecurityContext 通过SecurityContext构造器模拟用户")])]),t._v(" "),e("h2",{attrs:{id:"参考资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资源"}},[t._v("#")]),t._v(" 参考资源")]),t._v(" "),e("ul",[e("li",[t._v("官方文档（https://docs.spring.io/spring-security/site/docs/5.0.6.RELEASE/reference/htmlsingle/#test-method-withmockuser）")])])])}),[],!1,null,null,null);s.default=i.exports}}]);