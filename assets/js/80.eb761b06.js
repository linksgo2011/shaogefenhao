(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1187:function(t,s,a){"use strict";a.r(s);var e=a(15),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("img",{attrs:{src:a(741),alt:"image-20200411185919412"}})]),t._v(" "),e("p",[t._v("mysql的数据其实是存储在b+tree上的.一般业内的认知是 索引深度不超过4层.3层的索引. 能存储的数据行数其实是能计算出来的.所以为了要保证查询高效. 算一下每张表大概多少量级数据.. 拆分的时候根据总量计算出拆多少个分区.")]),t._v(" "),e("p",[t._v("然后用mycat中间件. 拆分就行,基本上 三层索引. 主键是32位uuid. 每行数据1k.  单表500w -1000w就是最大量级了.mycat拆分时的策略 就是对一个拆分键去取模.. 取模的方式常见的就是hash.")]),t._v(" "),e("p",[t._v("不过现在很多技术都用的另外一个hash算法. 叫一致性hash.")]),t._v(" "),e("p",[t._v("有时间把mycat. 一致性hash. jumpstringhash 这几个知识点看看就够了.")]),t._v(" "),e("p",[t._v("单表500w-1000w这个都没啥说的了. 业内共识. 如果你想知道算法.有时间可以交流")])])}),[],!1,null,null,null);s.default=n.exports},741:function(t,s,a){t.exports=a.p+"assets/img/image-20200411185919412.f43bf00c.png"}}]);