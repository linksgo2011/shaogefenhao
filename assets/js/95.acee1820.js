(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{873:function(v,_,l){"use strict";l.r(_);var i=l(15),t=Object(i.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("p",[v._v("主要参考下层，唯一不认同的是组件划分的方式，每层的分包逻辑肯定不一定样")]),v._v(" "),l("h2",{attrs:{id:"分层参考"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#分层参考"}},[v._v("#")]),v._v(" 分层参考")]),v._v(" "),l("ul",[l("li",[v._v("接口层\n"),l("ul",[l("li",[v._v("关心视图和对外的服务")]),v._v(" "),l("li",[v._v("如果我们没有多种接入方式，可以和应用层合并")]),v._v(" "),l("li",[v._v("对应到分布式系统中的网关、BFF、前台等概念")])])]),v._v(" "),l("li",[v._v("应用层\n"),l("ul",[l("li",[v._v("关心处理完一个完整的业务")]),v._v(" "),l("li",[v._v("集成不同的领域模型解决问题")]),v._v(" "),l("li",[v._v("一致性事务放到这层")]),v._v(" "),l("li",[v._v("对应到分布式系统中的中台等概念")]),v._v(" "),l("li",[v._v("基础设施的 interface 放到这层")]),v._v(" "),l("li",[v._v("读模型放到这层")]),v._v(" "),l("li",[v._v("用户权限控制放到这层")])])]),v._v(" "),l("li",[v._v("领域层\n"),l("ul",[l("li",[v._v("不关心业务，关心模型，")]),v._v(" "),l("li",[v._v("强事务放到这层")]),v._v(" "),l("li",[v._v("对应到分布式系统中的 domain service、后台等概念")]),v._v(" "),l("li",[v._v("按照聚合根分包")]),v._v(" "),l("li",[v._v("聚合根之间不互相依赖，依赖由应用层编排")])])]),v._v(" "),l("li",[v._v("基础设施层\n"),l("ul",[l("li",[v._v("关心存储、通知和外部设施")]),v._v(" "),l("li",[v._v("一般由 ORM 提供")]),v._v(" "),l("li",[v._v("按照 adapter 分包")])])])]),v._v(" "),l("h2",{attrs:{id:"分布式系统的分层适用性"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#分布式系统的分层适用性"}},[v._v("#")]),v._v(" 分布式系统的分层适用性")]),v._v(" "),l("p",[v._v("分层部署的代价和收益，每层的部署关系：")]),v._v(" "),l("ul",[l("li",[v._v("单体\n"),l("ul",[l("li",[v._v("所有层部署到一起")]),v._v(" "),l("li",[v._v("收益为部署简单、无分布式事务问题，用户权限简单")]),v._v(" "),l("li",[v._v("代价为无法解耦")]),v._v(" "),l("li",[v._v("适合小型工程，无需适配多端、多类型应用")]),v._v(" "),l("li",[v._v("无需分布式鉴权")])])]),v._v(" "),l("li",[v._v("小型服务化项目\n"),l("ul",[l("li",[v._v("接口层单独部署，例如 admin、mobile、h5")]),v._v(" "),l("li",[v._v("应用层、领域层、基础设施层部署到一起")]),v._v(" "),l("li",[v._v("收益为可以一定程度上解耦")]),v._v(" "),l("li",[v._v("一定程度上无需处理分布式事务")]),v._v(" "),l("li",[v._v("接口层和应用层使用 OAuth 分布式鉴权")])])]),v._v(" "),l("li",[v._v("大型中台项目\n"),l("ul",[l("li",[v._v("接口层单独部署")]),v._v(" "),l("li",[v._v("应用层单独部署")]),v._v(" "),l("li",[v._v("领域层和基础设施层部署到一起")]),v._v(" "),l("li",[v._v("接口层和应用层使用 OAuth 分布式鉴权")]),v._v(" "),l("li",[v._v("应用层和领域层使用 AK/SK 服务间鉴权")])])]),v._v(" "),l("li",[v._v("超大型项目\n"),l("ul",[l("li",[v._v("接口层单独部署")]),v._v(" "),l("li",[v._v("应用层单独部署")]),v._v(" "),l("li",[v._v("领域层单独部署")]),v._v(" "),l("li",[v._v("基础设施层部署")]),v._v(" "),l("li",[v._v("接口层和应用层使用 OAuth 分布式鉴权")]),v._v(" "),l("li",[v._v("应用层和领域层使用 AK/SK 服务间鉴权")]),v._v(" "),l("li",[v._v("领域层和基础设施层 使用 AK/SK 服务间鉴权")])])])]),v._v(" "),l("h2",{attrs:{id:"参考资料"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[v._v("#")]),v._v(" 参考资料")]),v._v(" "),l("ul",[l("li",[v._v("https://www.jianshu.com/p/d3e8b9ac097b")])])])}),[],!1,null,null,null);_.default=t.exports}}]);